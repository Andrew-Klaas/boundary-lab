slug: klaas-boundary-sandbox
id: fmjg5mbiv8rw
version: 0.0.1
title: Klaas-(WIP) Test Boundary PKI Workers and Target Types (Unfinished)
teaser: (WIP) Boundary Demo env (NOT READY)
description: (WIP) Test Boundary PKI Workers and Target Types
icon: https://storage.googleapis.com/instruqt-hashicorp-tracks/logo/HashiCorp_Icon_Black.png
tags:
- Vault
- Boundary
owner: hashicorp
developers:
- aklaas@hashicorp.com
private: true
published: false
maintenance: true
challenges:
- slug: 01-boundary-worker-setup
  id: efkilv6revt0
  type: challenge
  title: Configure Boundary and Vault
  teaser: Configure Vault to issue credentials for Boundary.
  notes:
  - type: text
    contents: Boundary provides a secure way to access hosts and critical systems
      without having to manage credentials or expose your network.
  assignment: |-
    ```
    export BOUNDARY_ADDR="https://ad2ed0........d081c40.boundary.hashicorp.cloud"
    export TF_VAR_boundary_addr=""
    ```

    ```
    export ADMIN_USER=....
    export AUTH_METHOD_ID=ampw_ZYRq...
    export TF_VAR_auth_method_id=ampw_ZYRq6mNmyr
    ```

    ```
    boundary authenticate password -auth-method-id=${BOUNDARY_AUTH_METHOD_ID} -login-name=$ADMIN_USER
    ```

    ```
    export BOUNDARY_TOKEN=...
    ```

    ```
    boundary workers create controller-led -name instruqt-demo -token env://BOUNDARY_TOKEN
    ```

    ```
    vi /etc/boundary.d/pki-worker.hc
    ```

    ```
    vault login -method=userpass username=vault password=vault
    vault token create \
      -no-default-policy=true \
      -policy="vault_admin" \
      -orphan=true \
      -period=20m \
      -renewable=true \
      -format=json

    export TF_VAR_vault_token=hvs.CAE.......
    ```


    



  tabs:
  - title: Boundary Worker
    type: terminal
    hostname: boundary-worker
  - title: Vault UI
    type: service
    hostname: vault-sql-server
    port: 8200
  - title: Vault & SQL Server
    type: terminal
    hostname: vault-sql-server
  - title: Windows Server
    type: terminal
    hostname: windows-server
  - title: Terraform Editor
    type: code
    hostname: hashistack-server
    path: /root/terraform-boundary/main.tf
  difficulty: basic
  timelimit: 6000
checksum: "12560864956872947292"
